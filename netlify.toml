# This file configures how Netlify builds and deploys your Flask application.

[build]
  # The command Netlify runs to install your Python dependencies.
  command = "pip install -r requirements.txt"

  # The directory Netlify should publish. For Flask apps, we point to the root.
  publish = "."

# Specifies the Python version for the build environment.
[build.environment]
  PYTHON_VERSION = "3.10" # Ensure this matches your local Python version

# --- Functions Configuration (Crucial for Flask) ---
# This tells Netlify where to find your serverless functions,
# which includes the wrapper for your Flask app.
[functions]
  directory = "functions" # Points to the folder containing server.py

# --- Redirects (Crucial for Flask) ---
# This rule tells Netlify to send all incoming requests to your serverless function
# that runs your Flask application.
[[redirects]]
  from = "/*"
  to = "/.netlify/functions/server" # Path to your server.py function
  status = 200 # Indicate a successful proxy
